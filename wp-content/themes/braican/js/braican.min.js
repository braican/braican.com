!function(a,b){function c(a){b("#page").css({"min-height":window.innerHeight+"px"}),b("body").removeClass("project-view"),b("#main").css({position:"absolute",top:"105px",zIndex:1e3}).fadeIn(d,function(){b("body").removeClass("project-view"),window.location.hash="",b("#project-modal").removeAttr("style").find("#load-project").empty(),b("#main, #page, .site-footer").removeAttr("style"),a&&"#"!=a&&b("body").scrollTo(a,e,{axis:"y",easing:"swing",margin:f})})}var d=600,e=800,f=!1;a.loader=function(a){var e=a.replace("#/",""),f=b('.project-group a[data-project="'+e+'"]').data("id");f&&(b("body").addClass("project-view"),b(".site-footer").hide(),b.when(b.get(braican_ajax.ajaxurl,{action:"ajax_action",post_id:f}),b("#main").fadeOut(d,function(){b("#loading").fadeIn(d)})).then(function(a){1==a[0]?(console.log("Uh oh. Looks like there's no project with that ID"),c()):(b("#load-project").html(a[0]),b("#project-modal").fadeIn(d,function(){b("#loading, .site-footer").removeAttr("style")}))}))},a.init=function(){b(window).on("hashchange",function(){if(window.location.hash.indexOf("#/")>-1){var b=window.location.hash.replace("#/","");b?a.loader(b):c(window.location.hash)}else c(window.location.hash)}),b(window).trigger("hashchange"),b('a[href^="/#"]').on("click",function(a){a.preventDefault();var d=b(this).attr("href").substring(1);b("body").hasClass("project-view")?c(d):d.length>1&&b("body").scrollTo(d,e,{axis:"y",easing:"swing",margin:f}),b(window).width()<600&&!b(this).parent().hasClass("logo")&&b(".mobile-nav").click()}),b(".mobile-section-navigation i").on("click",function(a){a.preventDefault();var c=b(this),d=c.attr("class");scrollToSection="icon-angle-up"===d?c.parents("section").prev().data("section"):c.parents("section").next().data("section"),b("body").scrollTo("#"+scrollToSection,e,{axis:"y",easing:"swing",margin:f})}),b(".project-group a").on("click",function(a){a.preventDefault();var c=(b(this).attr("href"),b(this).attr("data-project"));window.location.hash="/"+c}),b("#project-modal").on("click",".close-modal",function(a){a.preventDefault(),c()}),b(".mobile-nav").on("click",function(a){a.preventDefault(),b(this).toggleClass("activated"),b(".site-nav").slideToggle(d)});var g=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,h=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;if((g||h||i)&&"undefined"!=typeof document.getElementById){var j=window.addEventListener?"addEventListener":"attachEvent";window[j]("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1)}},b(document).ready(function(){a.init()})}(window.BRAICAN=window.BRAICAN||{},jQuery);