{"version":3,"sources":["webroot/wp-content/themes/braican/js/node_modules/browser-pack/_prelude.js","webroot/wp-content/themes/braican/js/webroot/wp-content/themes/braican/js/modules/scrollto.js","webroot/wp-content/themes/braican/js/webroot/wp-content/themes/braican/js/src/main.js"],"names":[],"mappings":"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","file":"production.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\n/**\n * Get the Y position of the element we're scrolling to.\n * @param {Element} el What we're trying to get the Y position of\n */\nconst elYPosition = (el) => {\n    let y = el.offsetTop;\n    let node = el;\n    while (node.offsetParent && node.offsetParent !== document.body) {\n        node = node.offsetParent;\n        y += node.offsetTop;\n    } return y;\n};\n\n\n/**\n * Determine the document's height\n * @returns {Number}\n */\nconst getDocumentHeight = function () {\n    return Math.max(\n        document.body.scrollHeight, document.documentElement.scrollHeight,\n        document.body.offsetHeight, document.documentElement.offsetHeight,\n        document.body.clientHeight, document.documentElement.clientHeight,\n    );\n};\n\n\n/**\n * Calculate the easing pattern\n * @link https://gist.github.com/gre/1650294\n * @param {String} type Easing pattern\n * @param {Number} time Time animation should take to complete\n * @returns {Number}\n */\nconst easingPattern = function (time) {\n    // acceleration until halfway, then deceleration\n    return time < 0.5 ? 4 * time * time * time : (time - 1) * (2 * time - 2) * (2 * time - 2) + 1;\n};\n\nfunction smoothScrollTo(el) {\n    const startY = window.pageYOffset;\n    const stopY = elYPosition(el);\n    const distance = stopY - startY;\n    const documentHeight = getDocumentHeight();\n\n    const speed = 600;\n\n    let timeLapsed = 0;\n    let start;\n    let percentage;\n    let position;\n    let animationInterval;\n\n\n    /**\n     * Cancel a scroll-in-progress\n     */\n    const cancelScroll = function () {\n        // clearInterval(animationInterval);\n        cancelAnimationFrame(animationInterval);\n    };\n\n    /**\n     * Stop the scroll animation when it reaches its target (or the bottom/top of page)\n     * @param {Number} position Current position on the page\n     * @param {Number} endLocation Scroll to location\n     * @param {Number} animationInterval How much to scroll on this loop\n     */\n    const stopAnimateScroll = function (pos, endLocation) {\n        // Get the current location\n        const currentLocation = window.pageYOffset;\n\n        // Check if the end location has been reached yet (or we've hit the end of the document)\n        if (\n            pos === endLocation ||\n            currentLocation === endLocation ||\n            ((startY < endLocation && window.innerHeight + currentLocation) >= documentHeight)\n        ) {\n            // Clear the animation timer\n            cancelScroll();\n\n            // Reset start\n            start = null;\n\n            return true;\n        }\n\n        return false;\n    };\n\n\n    /**\n     * Loop scrolling animation\n     */\n    const loopAnimateScroll = function (timestamp) {\n        if (!start) { start = timestamp; }\n        timeLapsed += timestamp - start;\n        percentage = (timeLapsed / parseInt(speed, 10));\n        percentage = (percentage > 1) ? 1 : percentage;\n        position = startY + (distance * easingPattern(percentage));\n        window.scrollTo(0, Math.floor(position));\n        if (!stopAnimateScroll(position, stopY)) {\n            window.requestAnimationFrame(loopAnimateScroll);\n            start = timestamp;\n        }\n    };\n\n    window.requestAnimationFrame(loopAnimateScroll);\n}\n\n\nfunction init_scrollto() {\n    const anchors = document.querySelectorAll('a[href^=\"#\"]');\n\n    anchors.forEach((anchor) => {\n        anchor.addEventListener('click', function (event) {\n            event.preventDefault();\n            const href = this.getAttribute('href').slice(1);\n            const scrollToEl = document.getElementById(href);\n            if (scrollToEl) {\n                smoothScrollTo(scrollToEl);\n            }\n        });\n    });\n}\n\nexport default init_scrollto;\n","//\n// Imports\n//\n\nimport scrollto from '../modules/scrollto';\n\n\n//\n// namespace - SK\n//\n\n(function (SK) {\n    /* --------------------------------------------\n     * --public\n     * -------------------------------------------- */\n\n    //\n    // init the things\n    //\n    const init = function () {\n        scrollto();\n    };\n\n\n    // ------------------------------------\n    // DOM should be ready, since js is\n    //  getting loaded at the bottom\n    //\n    init();\n}(window.SK = window.SK || {}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ3ZWJyb290L3dwLWNvbnRlbnQvdGhlbWVzL2JyYWljYW4vanMvbW9kdWxlcy9zY3JvbGx0by5qcyIsIndlYnJvb3Qvd3AtY29udGVudC90aGVtZXMvYnJhaWNhbi9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0NBOzs7O0FBSUEsSUFBTSxjQUFjLFNBQWQsV0FBYyxDQUFDLEVBQUQsRUFBUTtBQUN4QixRQUFJLElBQUksR0FBRyxTQUFYO0FBQ0EsUUFBSSxPQUFPLEVBQVg7QUFDQSxXQUFPLEtBQUssWUFBTCxJQUFxQixLQUFLLFlBQUwsS0FBc0IsU0FBUyxJQUEzRCxFQUFpRTtBQUM3RCxlQUFPLEtBQUssWUFBWjtBQUNBLGFBQUssS0FBSyxTQUFWO0FBQ0gsS0FBQyxPQUFPLENBQVA7QUFDTCxDQVBEOztBQVVBOzs7O0FBSUEsSUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CLEdBQVk7QUFDbEMsV0FBTyxLQUFLLEdBQUwsQ0FDSCxTQUFTLElBQVQsQ0FBYyxZQURYLEVBQ3lCLFNBQVMsZUFBVCxDQUF5QixZQURsRCxFQUVILFNBQVMsSUFBVCxDQUFjLFlBRlgsRUFFeUIsU0FBUyxlQUFULENBQXlCLFlBRmxELEVBR0gsU0FBUyxJQUFULENBQWMsWUFIWCxFQUd5QixTQUFTLGVBQVQsQ0FBeUIsWUFIbEQsQ0FBUDtBQUtILENBTkQ7O0FBU0E7Ozs7Ozs7QUFPQSxJQUFNLGdCQUFnQixTQUFoQixhQUFnQixDQUFVLElBQVYsRUFBZ0I7QUFDbEM7QUFDQSxXQUFPLE9BQU8sR0FBUCxHQUFhLElBQUksSUFBSixHQUFXLElBQVgsR0FBa0IsSUFBL0IsR0FBc0MsQ0FBQyxPQUFPLENBQVIsS0FBYyxJQUFJLElBQUosR0FBVyxDQUF6QixLQUErQixJQUFJLElBQUosR0FBVyxDQUExQyxJQUErQyxDQUE1RjtBQUNILENBSEQ7O0FBS0EsU0FBUyxjQUFULENBQXdCLEVBQXhCLEVBQTRCO0FBQ3hCLFFBQU0sU0FBUyxPQUFPLFdBQXRCO0FBQ0EsUUFBTSxRQUFRLFlBQVksRUFBWixDQUFkO0FBQ0EsUUFBTSxXQUFXLFFBQVEsTUFBekI7QUFDQSxRQUFNLGlCQUFpQixtQkFBdkI7O0FBRUEsUUFBTSxRQUFRLEdBQWQ7O0FBRUEsUUFBSSxhQUFhLENBQWpCO0FBQ0EsUUFBSSxjQUFKO0FBQ0EsUUFBSSxtQkFBSjtBQUNBLFFBQUksaUJBQUo7QUFDQSxRQUFJLDBCQUFKOztBQUdBOzs7QUFHQSxRQUFNLGVBQWUsU0FBZixZQUFlLEdBQVk7QUFDN0I7QUFDQSw2QkFBcUIsaUJBQXJCO0FBQ0gsS0FIRDs7QUFLQTs7Ozs7O0FBTUEsUUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CLENBQVUsR0FBVixFQUFlLFdBQWYsRUFBNEI7QUFDbEQ7QUFDQSxZQUFNLGtCQUFrQixPQUFPLFdBQS9COztBQUVBO0FBQ0EsWUFDSSxRQUFRLFdBQVIsSUFDQSxvQkFBb0IsV0FEcEIsSUFFQyxDQUFDLFNBQVMsV0FBVCxJQUF3QixPQUFPLFdBQVAsR0FBcUIsZUFBOUMsS0FBa0UsY0FIdkUsRUFJRTtBQUNFO0FBQ0E7O0FBRUE7QUFDQSxvQkFBUSxJQUFSOztBQUVBLG1CQUFPLElBQVA7QUFDSDs7QUFFRCxlQUFPLEtBQVA7QUFDSCxLQXBCRDs7QUF1QkE7OztBQUdBLFFBQU0sb0JBQW9CLFNBQXBCLGlCQUFvQixDQUFVLFNBQVYsRUFBcUI7QUFDM0MsWUFBSSxDQUFDLEtBQUwsRUFBWTtBQUFFLG9CQUFRLFNBQVI7QUFBb0I7QUFDbEMsc0JBQWMsWUFBWSxLQUExQjtBQUNBLHFCQUFjLGFBQWEsU0FBUyxLQUFULEVBQWdCLEVBQWhCLENBQTNCO0FBQ0EscUJBQWMsYUFBYSxDQUFkLEdBQW1CLENBQW5CLEdBQXVCLFVBQXBDO0FBQ0EsbUJBQVcsU0FBVSxXQUFXLGNBQWMsVUFBZCxDQUFoQztBQUNBLGVBQU8sUUFBUCxDQUFnQixDQUFoQixFQUFtQixLQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW5CO0FBQ0EsWUFBSSxDQUFDLGtCQUFrQixRQUFsQixFQUE0QixLQUE1QixDQUFMLEVBQXlDO0FBQ3JDLG1CQUFPLHFCQUFQLENBQTZCLGlCQUE3QjtBQUNBLG9CQUFRLFNBQVI7QUFDSDtBQUNKLEtBWEQ7O0FBYUEsV0FBTyxxQkFBUCxDQUE2QixpQkFBN0I7QUFDSDs7QUFHRCxTQUFTLGFBQVQsR0FBeUI7QUFDckIsUUFBTSxVQUFVLFNBQVMsZ0JBQVQsQ0FBMEIsY0FBMUIsQ0FBaEI7O0FBRUEsWUFBUSxPQUFSLENBQWdCLFVBQUMsTUFBRCxFQUFZO0FBQ3hCLGVBQU8sZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUMsVUFBVSxLQUFWLEVBQWlCO0FBQzlDLGtCQUFNLGNBQU47QUFDQSxnQkFBTSxPQUFPLEtBQUssWUFBTCxDQUFrQixNQUFsQixFQUEwQixLQUExQixDQUFnQyxDQUFoQyxDQUFiO0FBQ0EsZ0JBQU0sYUFBYSxTQUFTLGNBQVQsQ0FBd0IsSUFBeEIsQ0FBbkI7QUFDQSxnQkFBSSxVQUFKLEVBQWdCO0FBQ1osK0JBQWUsVUFBZjtBQUNIO0FBQ0osU0FQRDtBQVFILEtBVEQ7QUFVSDs7a0JBRWMsYTs7Ozs7QUMzSGY7Ozs7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQyxXQUFVLEVBQVYsRUFBYztBQUNYOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0EsUUFBTSxPQUFPLFNBQVAsSUFBTyxHQUFZO0FBQ3JCO0FBQ0gsS0FGRDs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0gsQ0FsQkEsRUFrQkMsT0FBTyxFQUFQLEdBQVksT0FBTyxFQUFQLElBQWEsRUFsQjFCLENBQUQsQyxDQVhBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuLyoqXG4gKiBHZXQgdGhlIFkgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgd2UncmUgc2Nyb2xsaW5nIHRvLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCBXaGF0IHdlJ3JlIHRyeWluZyB0byBnZXQgdGhlIFkgcG9zaXRpb24gb2ZcbiAqL1xuY29uc3QgZWxZUG9zaXRpb24gPSAoZWwpID0+IHtcbiAgICBsZXQgeSA9IGVsLm9mZnNldFRvcDtcbiAgICBsZXQgbm9kZSA9IGVsO1xuICAgIHdoaWxlIChub2RlLm9mZnNldFBhcmVudCAmJiBub2RlLm9mZnNldFBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBub2RlID0gbm9kZS5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIHkgKz0gbm9kZS5vZmZzZXRUb3A7XG4gICAgfSByZXR1cm4geTtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGRvY3VtZW50J3MgaGVpZ2h0XG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5jb25zdCBnZXREb2N1bWVudEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgKTtcbn07XG5cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGVhc2luZyBwYXR0ZXJuXG4gKiBAbGluayBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgRWFzaW5nIHBhdHRlcm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRpbWUgYW5pbWF0aW9uIHNob3VsZCB0YWtlIHRvIGNvbXBsZXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5jb25zdCBlYXNpbmdQYXR0ZXJuID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAgICByZXR1cm4gdGltZSA8IDAuNSA/IDQgKiB0aW1lICogdGltZSAqIHRpbWUgOiAodGltZSAtIDEpICogKDIgKiB0aW1lIC0gMikgKiAoMiAqIHRpbWUgLSAyKSArIDE7XG59O1xuXG5mdW5jdGlvbiBzbW9vdGhTY3JvbGxUbyhlbCkge1xuICAgIGNvbnN0IHN0YXJ0WSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICBjb25zdCBzdG9wWSA9IGVsWVBvc2l0aW9uKGVsKTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IHN0b3BZIC0gc3RhcnRZO1xuICAgIGNvbnN0IGRvY3VtZW50SGVpZ2h0ID0gZ2V0RG9jdW1lbnRIZWlnaHQoKTtcblxuICAgIGNvbnN0IHNwZWVkID0gNjAwO1xuXG4gICAgbGV0IHRpbWVMYXBzZWQgPSAwO1xuICAgIGxldCBzdGFydDtcbiAgICBsZXQgcGVyY2VudGFnZTtcbiAgICBsZXQgcG9zaXRpb247XG4gICAgbGV0IGFuaW1hdGlvbkludGVydmFsO1xuXG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYSBzY3JvbGwtaW4tcHJvZ3Jlc3NcbiAgICAgKi9cbiAgICBjb25zdCBjYW5jZWxTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNsZWFySW50ZXJ2YWwoYW5pbWF0aW9uSW50ZXJ2YWwpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25JbnRlcnZhbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHNjcm9sbCBhbmltYXRpb24gd2hlbiBpdCByZWFjaGVzIGl0cyB0YXJnZXQgKG9yIHRoZSBib3R0b20vdG9wIG9mIHBhZ2UpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIEN1cnJlbnQgcG9zaXRpb24gb24gdGhlIHBhZ2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kTG9jYXRpb24gU2Nyb2xsIHRvIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuaW1hdGlvbkludGVydmFsIEhvdyBtdWNoIHRvIHNjcm9sbCBvbiB0aGlzIGxvb3BcbiAgICAgKi9cbiAgICBjb25zdCBzdG9wQW5pbWF0ZVNjcm9sbCA9IGZ1bmN0aW9uIChwb3MsIGVuZExvY2F0aW9uKSB7XG4gICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBsb2NhdGlvbiBoYXMgYmVlbiByZWFjaGVkIHlldCAob3Igd2UndmUgaGl0IHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwb3MgPT09IGVuZExvY2F0aW9uIHx8XG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24gPT09IGVuZExvY2F0aW9uIHx8XG4gICAgICAgICAgICAoKHN0YXJ0WSA8IGVuZExvY2F0aW9uICYmIHdpbmRvdy5pbm5lckhlaWdodCArIGN1cnJlbnRMb2NhdGlvbikgPj0gZG9jdW1lbnRIZWlnaHQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGFuaW1hdGlvbiB0aW1lclxuICAgICAgICAgICAgY2FuY2VsU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHN0YXJ0XG4gICAgICAgICAgICBzdGFydCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIExvb3Agc2Nyb2xsaW5nIGFuaW1hdGlvblxuICAgICAqL1xuICAgIGNvbnN0IGxvb3BBbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAoIXN0YXJ0KSB7IHN0YXJ0ID0gdGltZXN0YW1wOyB9XG4gICAgICAgIHRpbWVMYXBzZWQgKz0gdGltZXN0YW1wIC0gc3RhcnQ7XG4gICAgICAgIHBlcmNlbnRhZ2UgPSAodGltZUxhcHNlZCAvIHBhcnNlSW50KHNwZWVkLCAxMCkpO1xuICAgICAgICBwZXJjZW50YWdlID0gKHBlcmNlbnRhZ2UgPiAxKSA/IDEgOiBwZXJjZW50YWdlO1xuICAgICAgICBwb3NpdGlvbiA9IHN0YXJ0WSArIChkaXN0YW5jZSAqIGVhc2luZ1BhdHRlcm4ocGVyY2VudGFnZSkpO1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgTWF0aC5mbG9vcihwb3NpdGlvbikpO1xuICAgICAgICBpZiAoIXN0b3BBbmltYXRlU2Nyb2xsKHBvc2l0aW9uLCBzdG9wWSkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcEFuaW1hdGVTY3JvbGwpO1xuICAgICAgICAgICAgc3RhcnQgPSB0aW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wQW5pbWF0ZVNjcm9sbCk7XG59XG5cblxuZnVuY3Rpb24gaW5pdF9zY3JvbGx0bygpIHtcbiAgICBjb25zdCBhbmNob3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj1cIiNcIl0nKTtcblxuICAgIGFuY2hvcnMuZm9yRWFjaCgoYW5jaG9yKSA9PiB7XG4gICAgICAgIGFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpLnNsaWNlKDEpO1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsVG9FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhyZWYpO1xuICAgICAgICAgICAgaWYgKHNjcm9sbFRvRWwpIHtcbiAgICAgICAgICAgICAgICBzbW9vdGhTY3JvbGxUbyhzY3JvbGxUb0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRfc2Nyb2xsdG87XG4iLCIvL1xuLy8gSW1wb3J0c1xuLy9cblxuaW1wb3J0IHNjcm9sbHRvIGZyb20gJy4uL21vZHVsZXMvc2Nyb2xsdG8nO1xuXG5cbi8vXG4vLyBuYW1lc3BhY2UgLSBTS1xuLy9cblxuKGZ1bmN0aW9uIChTSykge1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogLS1wdWJsaWNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy9cbiAgICAvLyBpbml0IHRoZSB0aGluZ3NcbiAgICAvL1xuICAgIGNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjcm9sbHRvKCk7XG4gICAgfTtcblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gRE9NIHNob3VsZCBiZSByZWFkeSwgc2luY2UganMgaXNcbiAgICAvLyAgZ2V0dGluZyBsb2FkZWQgYXQgdGhlIGJvdHRvbVxuICAgIC8vXG4gICAgaW5pdCgpO1xufSh3aW5kb3cuU0sgPSB3aW5kb3cuU0sgfHwge30pKTtcbiJdfQ=="}